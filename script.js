
      const festivals = [
        {
          name: "Nepali New Year / Mesh Sankranti / Biska Jatra",
          date: "2025-04-14",
          link: "https://img.freepik.com/premium-vector/happy-new-year-nepali-greeting_85216-204.jpg",
        },
        {
          name: "International Labour Day / Rato Matsyandranath Rath Yatra Prambha",
          date: "2025-05-01",
          icon: "ðŸ’¼",
        },
        {
          name: "Provincial Government Official Language Day / Kirat Samaj Sudhar Diwas",
          date: "2025-05-07",
          icon: "ðŸ—£ï¸",
        },
        {
          name: "Buddha Jayanti / Ubhauli Parwa / Chandeshwari Jatra / Chandi Poornima / Kurma Jayanti / Gorakhnath Jayanti / Poornima Vrata / Baisakh Snan Samapti / International Nurses Day",
          date: "2025-05-12",
          icon: "â˜¸ï¸",
        },
        { name: "Republic Day", date: "2025-05-29", icon: "ðŸ‡³ðŸ‡µ" },
        {
          name: "Bhoto Jatra (Kathmandu Valley Only) / Sithi Nakha / Global Day of Parents",
          date: "2025-06-01",
          icon: "ðŸŽ­",
        },
        {
          name: "Nirjala Ekadashi Vrata / Bakar Eid",
          date: "2025-06-07",
          icon: "ðŸŒ™",
        },
        {
          name: "Janai Poornima / Rakshya Bandhan / Kwati Khane Din / Poornima Vrata / Rishi Tarpani / Sanskrit Diwas / International Day of the World's Indigenous Peoples / International Soil Conservation Day",
          date: "2025-08-09",
          icon: "ðŸ§µ",
        },
        {
          name: "Gaijatra (Bagmati Province only)",
          date: "2025-08-10",
          icon: "ðŸ„",
        },
        {
          name: "Shree Krishna Janmashtami / Gorakhkali Puja",
          date: "2025-08-16",
          icon: "ðŸŽ¶",
        },
        { name: "Haritalika Teej", date: "2025-08-26", icon: "ðŸ’ƒ" },
        {
          name: "Radha Janmotsav / Gaura Parva / Gorakhkali Puja / Durwashtami / National Library Day",
          date: "2025-08-31",
          icon: "ðŸ“š",
        },
        {
          name: "Indra Jatra / Ananta Chaturdashi Vrata",
          date: "2025-09-06",
          icon: "ðŸŽ¡",
        },
        {
          name: "Nawami Shraddha / Jitiya Parva",
          date: "2025-09-15",
          icon: "ðŸ™",
        },
        {
          name: "Trayodashi Shraddha / Magha Shraddha / Sambidhan Diwas",
          date: "2025-09-19",
          icon: "ðŸ“œ",
        },
        {
          name: "Ghatasthaapana Vrata / Navaratri Arambha",
          date: "2025-09-22",
          icon: "ðŸ•‰ï¸",
        },
        { name: "Fulpati / World Heart Day", date: "2025-09-29", icon: "â¤ï¸" },
        {
          name: "Maha Ashtami Vrata / Kalratri / Gorakhkali Puja / Bhaumashtami Vrata",
          date: "2025-09-30",
          icon: "ðŸ•¯ï¸",
        },
        {
          name: "Maha Nawami Vrata / National Film Day / International Day of Older Persons",
          date: "2025-10-01",
          icon: "ðŸŽ¬",
        },
        {
          name: "Bijaya Dashami / Devi Bisharjan / World Non Violence Day",
          date: "2025-10-02",
          icon: "ðŸ",
        },
        {
          name: "Papakunsa Ekadashi Vrata / World Smile Day",
          date: "2025-10-03",
          icon: "ðŸ˜Š",
        },
        {
          name: "Dashain Holiday / Shani Pradosh Vrata / World Animal Day",
          date: "2025-10-04",
          icon: "ðŸ",
        },
        {
          name: "Laxmi Pooja / Laxmi Prasad Devkota Janma Jayanti / Kukur Tihar / Narak Chaturdashi / Sukha Ratri",
          date: "2025-10-20",
          icon: "ðŸª”",
        },
        { name: "Tihar Holiday", date: "2025-10-21", icon: "ðŸ•¯ï¸" },
        {
          name: "Gobardan Puja / Gaigoru Puja / Mha Puja / Hali Tihar / Nepal Sambat 1146 Starts",
          date: "2025-10-22",
          icon: "ðŸ„",
        },
        { name: "Bhai Tika / Kija Pooja", date: "2025-10-23", icon: "ðŸª”" },
        {
          name: "Tihar Holiday / UN Day / World Development Information Day",
          date: "2025-10-24",
          icon: "ðŸŒ",
        },
        { name: "Chhath Parva", date: "2025-10-27", icon: "ðŸŒ…" },
        {
          name: "Poornima Vrata / Chaturmas Wrata Samapti / Kartik Snan Samapti / Guru Nanak Jayanti",
          date: "2025-11-05",
          icon: "ðŸ•‰ï¸",
        },
        { name: "Falgunanda Jayanti", date: "2025-11-11", icon: "ðŸŽ‰" },
        {
          name: "International Day of Disabled Persons",
          date: "2025-12-03",
          icon: "â™¿",
        },
        {
          name: "Poornima Vrata / Dhanya Poornima / Yomari Punhi / Jyapu Diwas",
          date: "2025-12-04",
          icon: "ðŸ¬",
        },
        { name: "Christmas", date: "2025-12-25", icon: "ðŸŽ„" },
        {
          name: "Tamu Lhosar / Kavi Siromani Lekhnath Jayanti / Putrada Ekadashi Vrata",
          date: "2025-12-30",
          icon: "ðŸ¥‚",
        },
        {
          name: "Prithivi Jayanti / Rashtriya Ekata Diwas / Gorakhkali Puja",
          date: "2026-01-11",
          icon: "ðŸ‡³ðŸ‡µ",
        },
        {
          name: "Makar Sankranti / Ghiu Chaku Khane Din / Uttarayan Arambha",
          date: "2026-01-15",
          icon: "ðŸŒž",
        },
        {
          name: "Sonam Lhochhar / Shree Ballav Jayanti",
          date: "2026-01-19",
          icon: "ðŸŽ‰",
        },
        {
          name: "Basanta Panchami Vrata / Saraswati Pooja",
          date: "2026-01-23",
          icon: "ðŸ“š",
        },
        { name: "Sahid Diwas / Pradosh Vrata", date: "2026-01-30", icon: "ðŸ•Šï¸" },
        {
          name: "Maha-Shivaratri / Army Day / Silachahre Puja",
          date: "2026-02-15",
          icon: "ðŸ•‰ï¸",
        },
        { name: "Gyalpo Lhosar", date: "2026-02-18", icon: "ðŸ¥³" },
        {
          name: "Prajatantra Diwas / Election Day",
          date: "2026-02-19",
          icon: "ðŸ—³ï¸",
        },
        {
          name: "Fagu Poornima / Holi / Poornima Vrata",
          date: "2026-03-02",
          icon: "ðŸŒˆ",
        },
        {
          name: "Fagu Poornima (Terai) / Khandagras Chandra Grahan / World Wildlife Day",
          date: "2026-03-03",
          icon: "ðŸŒ",
        },
        { name: "International Women's Day", date: "2026-03-08", icon: "â™€ï¸" },
        { name: "Ghode Jatra", date: "2026-03-18", icon: "ðŸŽ" },
        {
          name: "Shree Ram Nawami Vrata / World Theater Day",
          date: "2026-03-27",
          icon: "ðŸŽ­",
        },
      ];

      function updateCountdown() {
        const now = new Date();
        // Separate upcoming and past festivals
        let upcoming = festivals.filter((f) => new Date(f.date) > now);
        let past = festivals.filter((f) => new Date(f.date) <= now);

        // Sort upcoming by date ascending (least days left first)
        upcoming.sort((a, b) => new Date(a.date) - new Date(b.date));

        // Sort past by date descending (most recent past first)
        past.sort((a, b) => new Date(b.date) - new Date(a.date));

        // Combine: upcoming first, then past
        const sortedFestivals = upcoming.concat(past);

        const container = document.getElementById("festivals");
        container.innerHTML = sortedFestivals
          .map((f) => {
            const target = new Date(f.date + "T00:00:00");
            const diff = target - now;
            let countText = "";
            let className = "count";
            if (diff <= 0) {
              countText = "Happening Now or Passed";
              className = "count passed";
            } else {
              const days = Math.floor(diff / (1000 * 60 * 60 * 24));
              const hrs = Math.floor((diff / (1000 * 60 * 60)) % 24);
              const mins = Math.floor((diff / (1000 * 60)) % 60);
              const secs = Math.floor((diff / 1000) % 60);
              countText = `${days}d ${hrs}h ${mins}m ${secs}s`;
            }

            return `
    <div class="card">
      <!-- Replace icon with a link -->
      <a href="${f.link}" target="_blank" class="link-container">
        <img src="${f.link}" alt="${f.name}" class="festival-link"/>
      </a>
      <div class="name">${f.name}</div>
      <div class="${className}">${countText}</div>
    </div>`;
          })
          .join("");
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);

      // Three.js background animation: Festive particles
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      const renderer = new THREE.WebGLRenderer({ alpha: true }); // Transparent background
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById("background").appendChild(renderer.domElement);

      const particles = 500;
      const geometry = new THREE.BufferGeometry();
      const positions = new Float32Array(particles * 3);
      const colors = new Float32Array(particles * 3);

      for (let i = 0; i < particles * 3; i += 3) {
        positions[i] = Math.random() * 200 - 100;
        positions[i + 1] = Math.random() * 200 - 100;
        positions[i + 2] = Math.random() * 200 - 100;

        // Random festive colors: red, green, blue, yellow, etc.
        const color = new THREE.Color();
        color.setHSL(Math.random(), 1, 0.5);
        colors[i] = color.r;
        colors[i + 1] = color.g;
        colors[i + 2] = color.b;
      }

      geometry.setAttribute(
        "position",
        new THREE.BufferAttribute(positions, 3)
      );
      geometry.setAttribute("color", new THREE.BufferAttribute(colors, 3));

      const material = new THREE.PointsMaterial({
        size: 0.5,
        vertexColors: true,
      });
      const points = new THREE.Points(geometry, material);
      scene.add(points);

      camera.position.z = 100;

      function animate() {
        requestAnimationFrame(animate);
        points.rotation.y += 0.0005; // Slow rotation for dynamic effect
        renderer.render(scene, camera);
      }

      animate();

      // Handle window resize
      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    